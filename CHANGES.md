
### Alterações
- Configuração inicial do ambiente virtual (venv).
- Compilação de sintaxe do script `tts_test.py` validada.
- Renomeação do arquivo `scripts/tts_test.py` para `scripts/audio_generation.py` para melhor refletir sua função de geração de áudios TTS.
- Atualização das importações em `scripts/run_tts.py` para referenciar o novo nome do arquivo.
- Adição de geração dinâmica de texto de entrevista em inglês usando LangChain com OpenAI GPT-3.5-turbo, seguindo boas práticas de código e princípios SOLID (Single Responsibility, Open-Closed, etc.). Inclui limpeza de prompt antes de envio ao LLM.
- Separação da classe InterviewGenerator em arquivo dedicado `scripts/interview_generator.py` e migração para uso de modelo LLM local otimizado para CPU (Hugging Face Transformers com distilgpt2), removendo dependência de APIs externas para melhor performance e privacidade.
- Refatoração da classe InterviewGenerator para usar llama-cpp-python com modelos GGUF (Llama/Qwen) otimizados em C++ para CPU, melhorando performance e reduzindo latência. Suporte a modelos como Llama 3.2 ou Qwen 2.5, com chat templates adequados.
- Ajuste de `n_threads=3` na classe InterviewGenerator para otimizar uso de CPU com 4 núcleos físicos.
- Download dos modelos GGUF otimizados: Llama-3.2-3B-Instruct-Q4_K_M.gguf e Qwen2.5-1.5B-Instruct-Q4_K_M.gguf do Hugging Face (bartowski), para uso local em CPU.
- Implementação do Builder Pattern para configuração opcional da classe InterviewGenerator (model_type e specialist).
- Adição de processamento sequencial para especialista "grammar": gera diálogo base e depois corrige gramaticalmente em segunda chamada ao LLM.
- Integração com Qdrant para salvar textos gerados ("generated") e corrigidos ("corrected") em disco, usando embeddings SentenceTransformer para busca por similaridade.
- Criação de script `scripts/query_qdrant.py` para consultar coleções Qdrant e comparar diferenças entre textos gerados e corrigidos usando difflib.
- Lazy-initialization de Qdrant e modelo de embeddings para evitar downloads desnecessários quando especialista não é usado.
- Correções para evitar erros de shutdown do Qdrant (graceful close via atexit) e uso de UUIDs para IDs únicos.
- Ajuste no parsing para remover artefatos indesejados como "Corrected dialogue:" antes de salvar no Qdrant.
- Correção de erro na API FastAPI: import de `Optional` e ajuste de campos Pydantic para evitar passagem de valores inválidos aos argumentos de linha de comando.
- Extensão de geração: seleção de línguas (`en`, `es`) via CLI/rota; sugestão de tópicos baseada em assunto com retorno de opções ao usuário; uso do tópico selecionado na geração da conversa.
- Ajuste do `scripts/run_tts.py` para aceitar `--langs`, `--topic-subject` e `--selected-topic`, e imprimir opções quando apenas o assunto for fornecido.
- Substituição da entrevista em espanhol fixa por geração via LLM com estrutura `(speaker, text)` e mapeamento de vozes.
 - Sugestão de tópicos agora retorna opções em Português (PT-BR), com parâmetro `target_lang` indicando se a conversa será gerada em inglês (`en`) ou espanhol (`es`). Atualizados `scripts/run_tts.py` e `services/tts_service.py` para usar `target_lang`.
- Ajustado especialista "daily" para gerar diálogos mais informais, usando linguagem cotidiana, gírias e expressões comuns, focando em conversas naturais sobre o assunto escolhido. Aplicado a ambos os idiomas (inglês e espanhol).
 - Corrigido possível problema ao juntar áudios de vozes diferentes: adicionada verificação e reamostragem (resample) automática quando `sample_rate` difere entre Sarah e Leo, garantindo concatenação correta. Inclui contadores de segmentos por voz e log de possíveis mismatches.
- Corrigido problema de diálogos muito curtos: aumentado `max_tokens` de 1000 para 2500 na geração e para 2000 na correção. Adicionada instrução explícita para gerar pelo menos 12-16 trocas de diálogo (24-32 linhas) em inglês e espanhol. Adicionada proteção na correção para preservar comprimento original.
- Criado arquivo `api_tests.http` com requests HTTP para testar rotas, incluindo cenários válidos, erros e validações. Inclui comentários sobre fluxo lógico esperado (sugestão → geração → consulta).
 - Adicionada página web em `web/` (index.html, styles.css, app.js) para testar as rotas com UI simples e performática (AbortController, throttle, minimal DOM updates). Habilitado CORS em `main.py` para permitir acesso via navegador.
 - Servir diretório `outputs/` em `/outputs` pelo FastAPI para permitir tocar os áudios via navegador (mesmo quando o HTML está em 127.0.0.1:5500).
 - `audio_generation.py`: entrevistas em EN/ES agora salvam também um transcript `.json` com as falas e retornam os caminhos gerados.
 - `scripts/run_tts.py`: imprime um resumo JSON na última linha com arquivos gerados e caminhos dos transcripts para consumo pela API/front.
 - Rota nova `GET /api/v1/latest-tts`: retorna o último FLAC em `outputs/` e, se disponível, seu transcript.
 - UI (`web/index.html`, `web/app.js`, `web/styles.css`): adicionados player de áudio e exibição da conversa; após `run-tts` a página carrega automaticamente o último áudio e exibe as falas.
- **Integração de Howler.js para reprodução de arquivos FLAC no navegador**:
  - Adicionada biblioteca Howler.js via CDN em `web/index.html` para suportar nativamente arquivos .flac no navegador.
  - Substituído elemento `<audio>` HTML5 por controles customizados (Play, Pause, Stop) usando Howler.js.
  - Implementado gerenciamento de estado do player com callbacks para onload, onplay, onpause, onstop, onend e onerror.
  - Atualizado `web/app.js` para criar instância Howl ao receber URL de áudio da API, com limpeza automática de instâncias anteriores.
  - Adicionados estilos CSS em `web/styles.css` para controles de áudio customizados com status visual.
  - Melhorada exibição de transcrição e feedback visual durante carregamento/reprodução do áudio.
  - **Debug e correções**:
    - Adicionados logs detalhados no console para rastreamento de resposta da API e processamento de áudio.
    - Corrigido estado inicial dos botões (todos desabilitados até áudio carregar).
    - Implementada exibição imediata do player com mensagem de carregamento.
    - Melhorada extração do nome do arquivo da resposta da API (suporte a caminhos com/sem diretórios).
    - Criado arquivo de teste `web/test_player.html` para debug isolado do player FLAC.
